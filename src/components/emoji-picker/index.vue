<template>
  <el-popover
    ref="popoverRef"
    placement="bottom"
    width="380"
    trigger="click"
    popper-class="emoji-popper"
    v-model:visible="visible"
  >
    <template #reference>ğŸ˜„</template>
    <div class="emoji-container">
      <div class="emoji-box">
        <button class="emoji-item" v-for="e in groupedEmojis" :key="e" type="button" @click="selectEmoji(e)">
          {{ e }}
        </button>
      </div>
    </div>
  </el-popover>
</template>

<script setup>
import { ref } from 'vue'

const popoverRef = ref(null)
const visible = ref(false)

const groupedEmojis = [
  // è¡¨æƒ…
  'ğŸ˜„',
  'ğŸ˜',
  'ğŸ˜†',
  'ğŸ˜Š',
  'ğŸ™‚',
  'ğŸ˜‰',
  'ğŸ¤©',
  'ğŸ¥³',
  'ğŸ¥°',
  'ğŸ˜',
  'ğŸ˜˜',
  'ğŸ˜—',
  'ğŸ˜š',
  'ğŸ¤—',
  'ğŸ˜',
  'ğŸ¤“',
  'ğŸ¥º',
  'ğŸ¤ ',
  'ğŸ˜¡',
  'ğŸ˜ ',
  'ğŸ¤¬',
  'ğŸ˜¤',
  'ğŸ˜¢',
  'ğŸ˜­',
  'ğŸ˜Ÿ',
  'ğŸ˜£',
  'ğŸ¤§',
  'ğŸ˜±',
  'ğŸ˜¨',
  'ğŸ˜°',
  'ğŸ˜¥',
  'ğŸ˜“',
  'ğŸ˜–',
  'ğŸ˜',
  'ğŸ¤¯',
  'ğŸ˜±',
  'ğŸ˜³',
  'ğŸ˜§',
  'ğŸ˜²',
  'ğŸ˜µ',
  'ğŸ˜´',
  'ğŸ¤¤',
  'ğŸ˜ª',
  'ğŸ¥±',
  'ğŸ¥´',
  'ğŸ¤®',
  'ğŸ¤¢',
  'ğŸ˜·',
  'ğŸ¤’',
  'ğŸ¤•',
  'ğŸ‘¿',
  'ğŸ’€',
  'ğŸ‘»',
  'ğŸ’©',
  'ğŸ¤–',
  'ğŸ‘½',
  'ğŸ‘Š',
  'ğŸ‘',
  'ğŸ¤',
  'ğŸ‘',
  'ğŸ‘',
  'ğŸ™Œ',
  'ğŸ¤²',
  'ğŸ‘',
  'ğŸ’…',
  'ğŸ¤³',
  'ğŸ’ª',
  'â¤ï¸',
  'ğŸ§¡',
  'ğŸ’›',
  'ğŸ’š',
  'ğŸ’™',
  'ğŸ’œ',
  'ğŸ–¤',
  'ğŸ’”'
]

// é€‰ä¸­è¡¨æƒ…åå…³é—­popover
const selectEmoji = emoji => {
  // è§¦å‘selectäº‹ä»¶
  emit('select', emoji)
  // å…³é—­popover
  visible.value = false
}

const emit = defineEmits(['select'])
</script>

<style lang="scss" scoped>
@use './index.scss' as *;
</style>
